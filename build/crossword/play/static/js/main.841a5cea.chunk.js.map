{"version":3,"sources":["BoardSquare.tsx","Board.tsx","BoardSize.tsx","ClueAnswer.tsx","Clues.tsx","ModeSelect.tsx","helpers/blankSquare.ts","helpers/nArray.ts","helpers/blankBoard.ts","helpers/letterOrBlank.ts","helpers/reGridBoard.ts","helpers/calculateBoard.ts","helpers/reNumberBoard.ts","helpers/clearBoardNumbers.ts","helpers/isWordStart.ts","helpers/clueAnswersFromFlatBoard.ts","helpers/condenseState.ts","helpers/onSelectSquare.ts","helpers/recalculateBoard.ts","helpers/extractClues.ts","helpers/reAddClues.ts","helpers/reSizeBoard.ts","helpers/updateAnswer.ts","helpers/updateAnswersOnBoard.ts","Editor.tsx","helpers/activateAll.ts","helpers/clearAll.ts","helpers/expandState.ts","Game.tsx","Footer.tsx","App.tsx","serviceWorker.ts","index.tsx"],"names":["BoardSquare","props","letterClass","mode","checkAnswers","answer","square","letter","selected","acrossMatch","selectedSquare","acrossWordNumber","downMatch","downWordNumber","selectedDirection","active","className","id","squareNumber","type","value","onChange","event","updatedSquare","target","toUpperCase","setBoardSquare","setSelectionRange","length","command","moveInput","onClick","onSelectSquare","maxLength","onKeyDown","key","preventDefault","autoComplete","onDoubleClick","wordStart","Board","createBoardSquareSetter","rowIndex","colIndex","end","boardSize","partners","partnerIndexes","push","updatedBoard","board","newStatus","forEach","partner","pRow","pCol","updateBoard","newSquareNumber","right","left","down","up","newInput","document","getElementById","newInputAsInput","focus","select","newSquare","flat","boardSquares","map","row","correctBoard","BoardSize","useState","editing","setEditing","tempBoardSize","setTempBoardSize","newBoardSize","parseInt","updateBoardSize","ClueAnswer","answerInputRef","useRef","selectionStart","setSelectionStart","useEffect","current","start","clue","answerInputStyle","background","clueAnswer","width","style","ref","updateClueAnswer","index","dirIndex","Clues","newValue","cluesList","clueAnswers","item","number","ModeSelect","blankSquare","size","nArray","n","Array","from","_","i","blankBoard","rowCols","letterOrBlank","reGridBoard","flatBoard","calculateBoard","flatBoardWithWordNumbers","flatBoardCleared","clearBoardNumbers","wordNumber","reduce","updatedFlatBoard","firstCol","firstRow","rightOfBlack","underBlack","acrossWordStart","downWordStart","eitherWordStart","isWordStart","aWN","dWN","reNumberBoard","updatedAnswers","acrossNumbers","downNumbers","ca","direction","firstLetterSquareNumber","caIndex","indexOf","clueAnswersFromFlatBoard","condenseState","condWordStart","condBoard","a","bs","condCA","dir","miniJson","JSON","stringify","btoa","setSelectedSquare","setSelectedDirection","updatedSelectedDirection","recalculateBoard","setBoard","setClueAnswers","clues","ar","c","extractClues","recalculatedUpdatedBoard","updatedClueAnswers","clueOrAnserArray","coaaIndex","answerFirstLetterNumber","reAddClues","reSizeBoard","slice","filter","diffBlankArray","fullBlankArray","extraRows","padIndex","concat","updateAnswer","uca","editIndex","oldLength","filler","repeat","updateAnswersOnBoard","property","answerIndex","updatedBoardSquare","Editor","blankBoardAndClues","setBoardSize","recalculateBoardWithSet","setMode","to","process","gameLink","execCommand","readOnly","e","updatedCAs","boardSquaresFlat","reGridedBoard","expandState","b64State","parse","atob","split","expWordStart","Game","game","hash","window","location","hashBoard","hashClueAnswers","setCheckAnswers","checked","Footer","href","App","exact","path","Boolean","hostname","match","ReactDOM","render","StrictMode","navigator","serviceWorker","ready","then","registration","unregister","catch","error","console","message"],"mappings":"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","file":"static/js/main.841a5cea.chunk.js","sourcesContent":["import React from 'react';\nimport './BoardSquare.css';\n\n// Types:\nimport { boardSquare } from './types';\n\ninterface boardSquareProps {\n  rowIndex: number,\n  colIndex: number,\n  square: boardSquare,\n  boardSize: number,\n  setBoardSquare: (\n    updatedSquare: boardSquare,\n  ) => void,\n  mode: string,\n  answer: (string | null),\n  selectedSquare: [number, number],\n  onSelectSquare: (rowIndex: number, colIndex: number) => void,\n  selectedDirection: string,\n  moveInput: (squareNumber: number, command: (\"right\" | \"left\" | \"down\" | \"up\")) => void,\n  checkAnswers: boolean,\n}\n\nfunction BoardSquare(props: boardSquareProps): JSX.Element {\n\n  function toggleSquareActive(event: React.MouseEvent<HTMLDivElement>): void {\n    // Should only be able to toggle in editor\n    if (props.mode === \"game\") return;\n    // This is kind of a hack, on double click call the onSelectSquare\n    // function again to cancel out the highlighted row toggle that\n    // happened on the first click.\n    props.onSelectSquare(-1, -1);\n    const updatedSquare = props.square;\n    updatedSquare.active = !updatedSquare.active;\n    updatedSquare.letter = \"\";\n    props.setBoardSquare(updatedSquare);\n  }\n\n  function addLetter(event: React.ChangeEvent<HTMLInputElement>): void {\n    // This object will be updated\n    const updatedSquare = props.square;\n    // Update letter value from event\n    const target = event.target;\n    updatedSquare.letter = target.value.toUpperCase();\n    props.setBoardSquare(updatedSquare);\n    // Select correct amount of word (for deletions)\n    target.setSelectionRange(0, target.value.length);\n    \n    // Don't increment input square on delete\n    if (updatedSquare.letter.length === 0) {\n      return;\n    }\n    // Increment input square on letter input\n    const command = props.selectedDirection === \"down\" ? \"down\" : \"right\";\n    props.moveInput(props.square.squareNumber, command);\n  }\n\n  function selectLetterOnFocus(event: (React.FocusEvent<HTMLInputElement> | React.MouseEvent<HTMLInputElement>)): void {\n    props.onSelectSquare(props.square.acrossWordNumber || 0, props.square.downWordNumber || 0)\n    const target = event.target as HTMLInputElement;\n    target.setSelectionRange(0, target.value.length); \n  }\n\n  // Navigate with arrow keys or backspace\n  // all other keys are ignored.\n  function keyPressed(event: React.KeyboardEvent): void {\n    let command: (\"up\" | \"left\" | \"down\" | \"right\" | null) = null;\n\n    // Override default behavior\n    if (\n      event.key === \"ArrowUp\"\n      || event.key === \"ArrrowDown\"\n      || event.key === \"Backspace\"\n    ) {\n      event.preventDefault(); \n    }\n\n    // Clear content on backspace\n    if (event.key === \"Backspace\") {\n      const updatedSquare = props.square;\n      updatedSquare.letter = \"\";\n      props.setBoardSquare(updatedSquare);\n    }\n\n    if (\n      event.key === \"ArrowUp\"\n      || (props.selectedDirection === \"down\" && event.key === \"Backspace\")\n    ) command = \"up\";\n    if (\n      event.key === \"ArrowLeft\"\n      || (props.selectedDirection === \"across\" && event.key === \"Backspace\")\n    ) command = \"left\";\n    if (event.key === \"ArrowDown\") command = \"down\";\n    if (event.key === \"ArrowRight\") command = \"right\";\n    if (command !== null) {\n      props.moveInput(props.square.squareNumber, command as (\"up\" | \"left\" | \"down\" | \"right\"));\n    }\n  }\n\n  // Set class for guess in Game mode\n  const letterClass: string = (props.mode === \"game\" && props.checkAnswers) ? (props.answer === props.square.letter ? \"correct\" : \"incorrect\") : \"\";\n\n  // Set class for selected row or column\n  let selected: string = \"\";\n  const acrossMatch = props.selectedSquare[0] === props.square.acrossWordNumber;\n  const downMatch = props.selectedSquare[1] === props.square.downWordNumber\n  if (\n    (\n      (\n        acrossMatch\n        && props.selectedDirection === \"across\"\n      ) || (\n        downMatch\n        && props.selectedDirection === \"down\"\n      )\n    )\n    && props.square.active\n  ) {\n    selected = \"selected-word\";\n    if (acrossMatch && downMatch) {\n      selected += \" selected-square\"\n    }\n  }\n\n  const letter = \n    <div className=\"letter\">\n      <input\n        id={`${props.square.squareNumber}-input`}\n        className={letterClass}\n        type=\"text\"\n        value={props.square.letter || ''}\n        onChange={addLetter}\n        onClick={selectLetterOnFocus}\n        maxLength={1}\n        onKeyDown={keyPressed}\n        autoComplete=\"off\"\n      />\n    </div>\n\n  const square =\n    <div\n      className={`board-square ${props.square.active ? selected : 'inactive'}`}\n      onDoubleClick={toggleSquareActive}\n    >\n      <div className=\"clue-number\">\n        {`${props.square.wordStart[0] ? props.square.acrossWordNumber : (props.square.wordStart[1] ? props.square.downWordNumber : '')}`}\n      </div>\n\n      {props.square.active ? letter : null}\n      \n    </div>\n  \n  return square;\n}\n\nexport default BoardSquare;","import React from 'react';\nimport './Board.css';\nimport BoardSquare from './BoardSquare';\n\n// Types:\nimport { boardSquare, clueAnswer } from './types';\n\ninterface boardProps {\n  clueAnswers: clueAnswer[][],\n  board: boardSquare[][],\n  correctBoard?: boardSquare[][],\n  boardSize: number,\n  updateBoard: (board: boardSquare[][]) => void,\n  mode: string,\n  selectedSquare: [number, number],\n  onSelectSquare: (acrossWordNumber: number, downWordNumber: number) => void,\n  selectedDirection: string,\n  checkAnswers: boolean,\n}\n\nfunction Board(props: boardProps): JSX.Element {\n\n  const createBoardSquareSetter = (rowIndex: number, colIndex: number): (updatedSquare: boardSquare) => void => {\n    const end = props.boardSize - 1;\n    const mode = props.mode;\n    let partners: number[][] = [];\n    \n    if (mode === 'diagonal' || mode === 'square') {\n      const partnerIndexes = [end - rowIndex, end - colIndex];\n      partners.push(partnerIndexes);\n    }\n    \n    if (mode === 'horizontal' || mode === 'horizontal-vertical'|| mode === 'square') {\n      const partnerIndexes = [rowIndex, end - colIndex];\n      partners.push(partnerIndexes);\n    }\n    \n    if (mode === 'vertical' || mode === 'horizontal-vertical'|| mode === 'square') {\n      const partnerIndexes = [end - rowIndex, colIndex];\n      partners.push(partnerIndexes);\n    }\n\n    return (updatedSquare: boardSquare) => {\n      const updatedBoard: boardSquare[][] = [...props.board];\n      const newStatus = updatedSquare.active;\n      updatedBoard[rowIndex][colIndex] = updatedSquare;\n      partners.forEach(partner => {\n        const [pRow, pCol] = partner;\n        updatedBoard[pRow][pCol].active = newStatus;\n      });\n      props.updateBoard(updatedBoard);\n    }\n  }\n\n  function moveInput(squareNumber: number, command: (\"right\" | \"left\" | \"down\" | \"up\")): void {\n    const offsets = {\n      right: 1,\n      left: -1,\n      down: props.boardSize,\n      up: -props.boardSize,\n    }\n    let newSquareNumber: number = squareNumber + offsets[command];\n\n    const newInput = document.getElementById(`${newSquareNumber}-input`);\n    // Reasons it might not exist:\n    // - Next square is inactive\n    // - Last row/last square\n    const newInputAsInput = newInput as HTMLInputElement;\n    if (newInput) {\n      newInputAsInput.focus();\n      newInputAsInput.select();\n      // Update selected square\n      const newSquare = props.board.flat()[newSquareNumber];\n      if (newSquare) {\n        props.onSelectSquare(newSquare.acrossWordNumber || 0, newSquare.downWordNumber || 0)\n      }\n    }\n  }\n\n  const boardSquares: JSX.Element[] = props.board.map((row: boardSquare[], rowIndex: number): JSX.Element => {\n    return (\n      <div key={`row-${rowIndex}`} className=\"board-row\">\n        {\n          row.map((square: boardSquare, colIndex: number): JSX.Element => {\n            const answer = props.correctBoard ? props.correctBoard[rowIndex][colIndex].letter : null;\n            return <BoardSquare\n              key={`${rowIndex}-${colIndex}`}\n              rowIndex={rowIndex}\n              colIndex={colIndex}\n              boardSize={props.boardSize}\n              square={square}\n              setBoardSquare={createBoardSquareSetter(rowIndex, colIndex)}\n              mode={props.mode}\n              answer={answer}\n              selectedSquare={props.selectedSquare}\n              onSelectSquare={props.onSelectSquare}\n              selectedDirection={props.selectedDirection}\n              moveInput={moveInput}\n              checkAnswers={props.checkAnswers}\n            />\n          })\n        }\n      </div>\n    )\n  })\n\n  const board: JSX.Element = \n    <div id=\"board\">\n      {boardSquares}\n    </div>\n  \n  return (\n    <div>\n      <h2>Board</h2>\n      {board}\n    </div>\n  )\n}\n\nexport default Board;","import React, { useState } from 'react';\n\nimport './BoardSize.css';\n\n\ninterface boardSizeProps {\n  boardSize: number,\n  updateBoardSize: (newBoardSize: number) => void,\n}\n\nexport default function BoardSize(props: boardSizeProps): JSX.Element {\n\n  const [editing, setEditing] = useState(false);\n  const [tempBoardSize, setTempBoardSize] = useState(props.boardSize);\n\n  function tempUpdateBoardSize(event: React.ChangeEvent<HTMLInputElement>): void {\n    const newBoardSize: number = parseInt(event.target.value);\n    setTempBoardSize(newBoardSize)\n  }\n\n  function endEditing(): void {\n    setEditing(false);\n    props.updateBoardSize(tempBoardSize);\n  }\n\n  let boardSize;\n  if (editing) {\n    boardSize = (\n      <div>\n        <label className=\"bs-label\">\n          Update Board Size:\n        </label>\n        <input\n          className=\"bs-element\"\n          type=\"number\"\n          value={tempBoardSize}\n          onChange={tempUpdateBoardSize}\n        />\n        <button\n          className=\"bs-element\"\n          onClick={endEditing}\n        >\n          Save\n        </button>\n      </div>\n    )\n  } else {\n    boardSize = (\n      <div>\n        <h4 className=\"bs-element\">\n          Board Size: {props.boardSize}\n        </h4>\n        <button\n          className=\"bs-element\"\n          onClick={() => setEditing(true)}\n        >\n          Change\n        </button>\n      </div>\n    )\n  }\n\n  return (\n    <div id=\"board-size\">\n      {boardSize}\n    </div>\n  )\n}","import React, { useRef, useState, useEffect } from 'react';\n\nimport './ClueAnswer.css';\n\n// Types:\nimport { clueAnswer } from './types';\n\ninterface clueAnswerProps {\n  clueAnswer: clueAnswer,\n  updateClueAnswer: (\n    type: (\"answer\" | \"clue\"),\n    newValue: string,\n    index: number,\n    dirIndex: number,\n    selectionStart?: number\n  ) => void,\n  dirIndex: number,\n  index: number,\n  mode: string,\n}\n\nfunction ClueAnswer(props: clueAnswerProps): JSX.Element {\n\n  const answerInputRef = useRef<HTMLInputElement>(null);\n\n  const [selectionStart, setSelectionStart] = useState<(number | null)>(0);\n\n  useEffect((): void => {\n    if (answerInputRef.current && selectionStart !== null) {\n      const start = selectionStart || 0;\n      answerInputRef.current.setSelectionRange(start, start);\n      setSelectionStart(null);\n    }\n  }, [selectionStart]);\n\n  function updateAnswer(event: React.ChangeEvent<HTMLInputElement>): void {\n    const { value, selectionStart} = event.target;\n    setSelectionStart((selectionStart || 0));\n    props.updateClueAnswer(\"answer\", value.toUpperCase(), props.index, props.dirIndex, selectionStart || 0);\n  }\n\n  function updateClue(event: React.ChangeEvent<HTMLInputElement>): void {\n    const { value } = event.target;\n    props.updateClueAnswer(\"clue\", value, props.index, props.dirIndex);\n  }\n\n  const answerInputStyle = {\n    background: `repeating-linear-gradient(90deg, black 0, black 1.25ch, transparent 0, transparent 2ch) 5px 85%/ ${props.clueAnswer.answer.length * (2)}ch 1px no-repeat`,\n    width: `Calc(2ch * ${props.clueAnswer.answer.length} - 1px)`,\n  }\n\n  let answer;\n  let clue;\n  if (props.mode === \"editor\") {\n    answer = (\n      <li>\n        <label className=\"ca-label\">Answer:</label>\n        <input\n          style={answerInputStyle}\n          className=\"answer\"\n          ref={answerInputRef}\n          value={props.clueAnswer.answer}\n          onChange={updateAnswer}\n          autoComplete=\"off\"\n        />\n      </li>\n    )\n    clue = (\n      <li>\n        <label className=\"ca-label\">Clue:</label>\n        <input\n          className=\"clue\"\n          value={props.clueAnswer.clue}\n          onChange={updateClue}\n          autoComplete=\"off\"\n        />\n      </li>\n    )\n  } else {\n    clue = (\n      <li>\n        <p>\n          {props.clueAnswer.clue}\n        </p>\n      </li>\n    )\n  }\n\n  return (\n    <ul className=\"clue-answer\">\n      {clue}\n      {answer}\n    </ul>\n  )\n}\n\nexport default ClueAnswer;","import React from 'react';\nimport './Clues.css';\n\nimport ClueAnswer from './ClueAnswer';\n\n// Types:\nimport { clueAnswer } from './types';\n\ninterface cluesProps {\n  clueAnswers: clueAnswer[][],\n  updateClueAnswer?: (type: (\"answer\" | \"clue\"), newValue: string, dirIndex: number, caIndex: number, selectionStart?: number) => void,\n  mode: string,\n}\n\nfunction Clues(props: cluesProps): JSX.Element {\n\n  function updateClueAnswer(\n    type: (\"answer\" | \"clue\"),\n    newValue: string,\n    index: number,\n    dirIndex: number,\n    selectionStart?: number, // Undefined for clues\n  ) {\n    if (props.updateClueAnswer) {\n      props.updateClueAnswer(type, newValue, dirIndex, index, selectionStart)\n    }\n  }\n\n  const cluesList = (clueAnswers: clueAnswer[], dirIndex: number): JSX.Element => {\n\n    return (\n      <ol className=\"clue-answers-list\">\n        {clueAnswers.map(\n          (item: clueAnswer, index: number) => {\n\n            return (\n              <li\n                key={index}\n                value={item.number}\n              >\n                <ClueAnswer\n                  clueAnswer={item}\n                  updateClueAnswer={updateClueAnswer}\n                  dirIndex={dirIndex}\n                  index={index}\n                  mode={props.mode}\n                />\n              </li>\n            )\n          }\n        )}\n      </ol>\n    )\n  }\n  \n  return (\n    <div>\n        <ul className=\"clue-answers-sections\">\n          <li>\n            <h3>Across:</h3>\n            {cluesList(props.clueAnswers[0], 0)}\n          </li>\n          <li>\n            <h3>Down:</h3>\n            {cluesList(props.clueAnswers[1], 1)}\n          </li>\n\n        </ul>\n    </div>\n  )\n}\n\nexport default Clues;","import React from 'react';\n\nimport './ModeSelect.css';\n\nexport interface modeSelectProps {\n  mode: string,\n  onChange: (event: React.ChangeEvent<HTMLSelectElement>) => void,\n}\n\nexport default function ModeSelect(props: modeSelectProps): JSX.Element {\n  \n  return (\n    <div className=\"mode-select\">\n      <h4>Toggle Square Symmetry Mode:</h4>\n      <select onChange={props.onChange}>\n        <option>normal</option>\n        <option>horizontal</option>\n        <option>vertical</option>\n        <option>diagonal</option>\n        <option>horizontal-vertical</option>\n        <option>square</option>\n      </select>\n    </div>\n  );\n}","import { boardSquare } from '../types';\n\nexport default function blankSquare(rowIndex: number, colIndex: number, size: number): boardSquare {\n  const bs: boardSquare = {\n    active: true,\n    letter: \"\",\n    wordStart: [false, false],\n    acrossWordNumber: null,\n    downWordNumber: null,\n    squareNumber: (rowIndex * size) + colIndex,\n  }\n  return bs;\n}","// Return an array of length n with indexes as values\n\nexport default function nArray(n: number): number[] {\n  return Array.from({length: n}, (_: undefined, i: number): number => i)\n}","import { boardSquare } from '../types';\nimport blankSquare from './blankSquare';\nimport nArray from './nArray';\n\n\n// Build a blank board of the correct size\n\nexport default function blankBoard(size: number): boardSquare[][] {\n  const rowCols: number[] = nArray(size);\n  return rowCols.map((rowIndex: number) => {\n    return rowCols.map((colIndex: number) => {\n      return blankSquare(rowIndex, colIndex, size);\n    });\n  });\n}","// Return either the letter passed in or a space char if null\n\nexport default function letterOrBlank(letter: (string | null)): string {\n  return (letter || \" \");\n}","import { boardSquare } from '../types';\n\nimport nArray from './nArray';\n\n// Converts a flattened board back into a 2D grid \n\nexport default function reGridBoard(flatBoard: boardSquare[], boardSize: number): boardSquare[][] {\n  const rowCols: number[] = nArray(boardSize);\n  return rowCols.map((rowIndex: number): boardSquare[] => {\n    return rowCols.map((colIndex: number): boardSquare => {\n      const index = (rowIndex * boardSize) + colIndex;\n      return flatBoard[index];\n    });\n  });\n}","import { boardSquare, clueAnswer } from '../types';\n\nimport clueAnswersFromFlatBoard from './clueAnswersFromFlatBoard';\nimport reGridBoard from './reGridBoard';\nimport reNumberBoard from './reNumberBoard';\n\nexport default function calculateBoard(board: boardSquare[][]): [boardSquare[][], clueAnswer[][]] {\n\n  const boardSize = board.length;\n\n  // Update each square's word numbers based on\n  // other squares across and down from it\n  const flatBoardWithWordNumbers = reNumberBoard(board.flat(), boardSize);\n\n  // Find Across and Down Clues:\n  const updatedAnswers: clueAnswer[][] = clueAnswersFromFlatBoard(flatBoardWithWordNumbers);\n\n  // Put board back into 2D array\n  const reGridedBoard: boardSquare[][] = reGridBoard(flatBoardWithWordNumbers, boardSize);\n\n  return [reGridedBoard, updatedAnswers];\n}","import { boardSquare, boardSquareContext, wordStart } from '../types';\nimport isWordStart from './isWordStart';\nimport clearBoardNumbers from './clearBoardNumbers';\n\n// Update down and across word numbers based on active board squares\n\nexport default function reNumberBoard(flatBoard: boardSquare[], boardSize: number): boardSquare[] {\n\n  const flatBoardCleared = clearBoardNumbers(flatBoard);\n\n  let wordNumber = 1; // clueAnswers are 1 indexed\n\n  return flatBoardCleared.reduce((updatedFlatBoard: boardSquare[], square: boardSquare, index: number, flatBoard: boardSquare[]): boardSquare[] => {\n\n    const bsContext: boardSquareContext = { flatBoard, index, boardSize }\n    const { downWordStart, acrossWordStart, eitherWordStart }: wordStart = isWordStart(bsContext);\n    if (square.active) {\n      let aWN: (number | null) = null, dWN: (number | null) = null;\n      // Find start of words:\n      if (eitherWordStart) {\n        if (acrossWordStart) {\n          square.wordStart[0] = true;\n          aWN = wordNumber;\n        }\n        if (downWordStart) {\n          square.wordStart[1] = true;\n          dWN = wordNumber;\n        }\n        wordNumber += 1;\n      }\n      // Set wordNumbers for non start words based on previous\n      square.acrossWordNumber = aWN || updatedFlatBoard[index - 1].acrossWordNumber;\n      square.downWordNumber = dWN || updatedFlatBoard[index - boardSize].downWordNumber;\n      square.squareNumber = index;\n    }\n    updatedFlatBoard.push(square);\n    return updatedFlatBoard;\n  }, []);\n}","import { boardSquare } from '../types';\n\n// Clear existing down and across word numbers from a flattened board\n\nexport default function clearBoardNumbers(flatBoard: boardSquare[]): boardSquare[] {\n  return flatBoard.map(square => {\n    // Clear all word numbers:\n    square.wordStart = [false, false];\n    square.acrossWordNumber = null;\n    square.downWordNumber = null;\n    return square;\n  })\n}","import { boardSquareContext, wordStart } from '../types';\n\n// Determine whether a square at an index of a flattened board is the start of a down word, an across word, or either\n\nexport default function isWordStart({flatBoard, index, boardSize}: boardSquareContext): wordStart {\n\n  const firstCol = index % boardSize === 0;\n  const firstRow = index < boardSize;\n\n  // Only need to check these if the corresponding var above is false\n  let rightOfBlack = false, underBlack = false;\n  if (!firstCol) {\n    rightOfBlack = !flatBoard[index - 1].active;\n  }\n  if (!firstRow) {\n    underBlack = !flatBoard[index - boardSize].active;\n  }\n\n  const acrossWordStart = firstCol || rightOfBlack;\n  const downWordStart = firstRow || underBlack;\n\n  return {\n    acrossWordStart: acrossWordStart,\n    downWordStart: downWordStart,\n    eitherWordStart: acrossWordStart || downWordStart,\n  }\n}","import { boardSquare, clueAnswer } from '../types';\n\nimport letterOrBlank from './letterOrBlank';\n\n// Updates answers based on updated board numbers\n\nexport default function clueAnswersFromFlatBoard(flatBoardWithWordNumbers: boardSquare[]) {\n  return flatBoardWithWordNumbers.reduce((clueAnswers: clueAnswer[][], square: boardSquare, index: number): clueAnswer[][] => {\n\n    // Inactive Squares\n    if (!square.acrossWordNumber || !square.downWordNumber) {\n      return clueAnswers;\n    }\n    \n    const acrossNumbers = clueAnswers[0].map(i => i.number);\n    const downNumbers = clueAnswers[1].map(i => i.number);\n\n    if (square.wordStart[0]) {\n    // Find starts of words\n      const ca: clueAnswer = {\n        direction: 'across',\n        number: square.acrossWordNumber,\n        clue: '',\n        answer: letterOrBlank(square.letter),\n        firstLetterSquareNumber: index,\n      }\n      clueAnswers[0].push(ca);\n    } else {\n      const caIndex = acrossNumbers.indexOf(square.acrossWordNumber);\n      clueAnswers[0][caIndex].answer += letterOrBlank(square.letter);\n    }\n    \n    if (square.wordStart[1]) {\n      const ca: clueAnswer = {\n        direction: 'down',\n        number: square.downWordNumber,\n        clue: '',\n        answer: letterOrBlank(square.letter),\n        firstLetterSquareNumber: index,\n      }\n      clueAnswers[1].push(ca);\n    } else {\n      const caIndex = downNumbers.indexOf(square.downWordNumber);\n      clueAnswers[1][caIndex].answer += letterOrBlank(square.letter);\n    }\n\n    return clueAnswers;\n\n  }, [[], []]);\n}","import { boardSquare, clueAnswer } from '../types';\n\nexport default function condenseState(board: boardSquare[][], clueAnswers: clueAnswer[][]): string {\n  function condWordStart(wordStart: [boolean, boolean]): string {\n    const [a, b] = wordStart;\n    const aStr = a ? 't' : 'f';\n    const bStr = b ? 't' : 'f';\n    return aStr + bStr;\n  }\n\n\n  const condBoard = board.map(a => a.map(bs => {\n    return [\n      bs.active ? 't' : 'f',\n      bs.letter,\n      condWordStart(bs.wordStart),\n      bs.acrossWordNumber,\n      bs.downWordNumber,\n      bs.squareNumber\n    ]\n  }));\n  const condCA = clueAnswers.map(dir => dir.map(ca => {\n    return [\n      ca.direction === 'down' ? 'd' : 'a',\n      ca.number,\n      ca.clue,\n      ca.answer,\n      ca.firstLetterSquareNumber\n    ]\n  }));\n  const miniJson = JSON.stringify([condBoard, condCA]);\n  return btoa(miniJson);\n}","export default function onSelectSquare(\n  selectedSquare: [number, number],\n  setSelectedSquare: (selectedSquare: [number, number]) => void,\n  selectedDirection: string,\n  setSelectedDirection: (selectedDirection: string) => void,\n  acrossWordNumber: number,\n  downWordNumber: number,\n): void {\n  let updatedSelectedDirection = selectedDirection;\n  // Cancel on double click, reset direction, don't update square\n  if (acrossWordNumber === -1 && downWordNumber === -1) {\n    updatedSelectedDirection = selectedDirection === \"across\" ? \"down\" : \"across\";\n  } else {\n    if (acrossWordNumber === selectedSquare[0] && downWordNumber === selectedSquare[1]) {\n      updatedSelectedDirection = selectedDirection === \"across\" ? \"down\" : \"across\";\n    } else if (selectedDirection === \"none\") {\n      updatedSelectedDirection = \"across\";\n    }\n    setSelectedSquare([acrossWordNumber, downWordNumber]);\n  }\n  setSelectedDirection(updatedSelectedDirection);\n}","import { boardSquare, clueAnswer } from '../types';\n\nimport calculateBoard from './calculateBoard';\nimport extractClues from './extractClues';\nimport reAddClues from './reAddClues';\n\nexport default function recalculateBoard(\n  updatedBoard: boardSquare[][],\n  clueAnswers: clueAnswer[][],\n  setBoard: (updatedBoard: boardSquare[][]) => void,\n  setClueAnswers: (updatedClueAnswers: clueAnswer[][]) => void,\n): void {\n  // Save clue values:\n  const clues: {[key: number]: string}[] = extractClues(clueAnswers);\n  // Update clueAnswer numbers:\n  const [recalculatedUpdatedBoard, updatedAnswers] = calculateBoard(updatedBoard);\n  // Re-add clue values:\n  const updatedClueAnswers: clueAnswer[][] = reAddClues(updatedAnswers, clues)\n  setBoard(recalculatedUpdatedBoard);\n  setClueAnswers(updatedClueAnswers);\n}","import { clueAnswer } from '../types';\n\nexport default function extractClues(clueAnswers: clueAnswer[][]): {[key: number]: string}[] {\n  return clueAnswers.map(ar => {\n    return ar.reduce((a, c) => {\n      const index: (number | null) = c.firstLetterSquareNumber\n      if (index != null) {\n        a[index] = c.clue;\n      }\n      return a;\n    }, {} as {[key: number]: string});\n  })\n}","import { clueAnswer } from '../types';\n\nexport default function reAddClues(updatedAnswers: clueAnswer[][], clues: {[key: number]: string}[]): clueAnswer[][] {\n  return updatedAnswers.map((clueOrAnserArray, coaaIndex) => {\n    return clueOrAnserArray.map((ca) => {\n      const answerFirstLetterNumber = ca.firstLetterSquareNumber;\n      if (\n        answerFirstLetterNumber !== null\n        && clues[coaaIndex][answerFirstLetterNumber]\n      ) {\n        ca.clue = clues[coaaIndex][answerFirstLetterNumber];\n      } else {\n        ca.clue = \"\";\n      }\n      return ca;\n    });\n  });\n}","import { boardSquare } from '../types';\n\nimport blankSquare from './blankSquare';\nimport nArray from './nArray';\n\nexport default function reSizeBoard(board: boardSquare[][], newBoardSize: number, boardSize: number): boardSquare[][] {\n  let updatedBoard: boardSquare[][] = [...board];\n  if (newBoardSize < boardSize) {\n    updatedBoard = board\n      // remove squares from each row:\n      .map((row) => row.slice(0, newBoardSize))\n      // remove rows beyond board size:\n      .filter((_, index) => index < newBoardSize);\n  } else if (newBoardSize > boardSize) {\n    const diff: number = newBoardSize - boardSize;\n    const diffBlankArray: number[] = nArray(diff);\n    const fullBlankArray: number[] = nArray(newBoardSize);\n    // Function to build an array of squares when we know the rowIndex\n    const makePaddingSquares = (rowIndex: number): boardSquare[] => {\n      return diffBlankArray.map((padIndex) => {\n        return blankSquare(rowIndex, boardSize + padIndex, newBoardSize);\n      });\n    }\n    // Function to build a full row array of square when we know the rowIndex\n    const makeFullRow = (rowIndex: number): boardSquare[] => {\n      return fullBlankArray.map((colIndex) => blankSquare(rowIndex, colIndex, newBoardSize));\n    }\n    const extraRows: boardSquare[][] = diffBlankArray.map((padIndex) => {\n      return makeFullRow(boardSize + padIndex);\n    });\n    updatedBoard = board\n      // add blank squares to each row:\n      .map((row, index) => row.concat(makePaddingSquares(index)))\n      // add additional blank rows:\n      .concat(extraRows);\n  }\n  return updatedBoard;\n}","import { clueAnswer } from '../types';\n\nexport default function updateAnswer(uca: clueAnswer, newValue: string, selectionStart: number): clueAnswer {\n  let editIndex = selectionStart || 0;\n  const oldLength: number = uca.answer.length;\n  if (newValue.length < oldLength) {\n  const filler = \" \".repeat(oldLength - newValue.length);\n  // Deleted characters: \n    uca.answer = (newValue.slice(0, editIndex) + filler + newValue.slice(editIndex, newValue.length));\n  } else {\n  // Added characteres:\n  // Remove character after cursor and trim\n  // to the correct length\n    uca.answer = (newValue.slice(0, editIndex) + newValue.slice(editIndex + 1, newValue.length)).slice(0, oldLength);\n  }\n  return uca;\n}","import { boardSquare, clueAnswer } from '../types';\n\nexport default function updateAnswersOnBoard(board: boardSquare[][], uca: clueAnswer, dirIndex: number) {\n  // store kind of answer in property\n  const property: (\"acrossWordNumber\" | \"downWordNumber\") = dirIndex === 0 ? \"acrossWordNumber\" : \"downWordNumber\";\n\n  // Store new answer in flattened boardSquares array:\n  let answerIndex = 0;\n  const boardSquaresFlat: boardSquare[] = board\n    .flat()\n    .map((bs: boardSquare, index: number): boardSquare => {\n      const updatedBoardSquare = bs;\n      // Update board square with new value\n      if (bs[property] === uca.number) {\n        updatedBoardSquare.letter = uca.answer[answerIndex];\n        answerIndex += 1;\n      }\n    return updatedBoardSquare;\n  });\n  return boardSquaresFlat;\n}","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport './Editor.css';\nimport Board from './Board';\nimport BoardSize from './BoardSize';\nimport Clues from './Clues';\nimport ModeSelect from './ModeSelect';\n\n// Types:\nimport { boardSquare, clueAnswer } from './types';\n\n// Helpers:\nimport activateAll from './helpers/activateAll';\nimport blankBoard from './helpers/blankBoard';\nimport calculateBoard from './helpers/calculateBoard';\nimport clearAll from './helpers/clearAll';\nimport condenseState from './helpers/condenseState';\nimport onSelectSquare from './helpers/onSelectSquare';\nimport recalculateBoard from './helpers/recalculateBoard';\nimport reGridBoard from './helpers/reGridBoard';\nimport reSizeBoard from './helpers/reSizeBoard';\nimport updateAnswer from './helpers/updateAnswer';\nimport updateAnswersOnBoard from './helpers/updateAnswersOnBoard';\n\nfunction Editor(): JSX.Element {\n\n  // Put this into a config at some point\n  const HOST = \"https://doodles.patrickweaver.net\";\n\n  const defaultBoardSize: number = 9;\n  const blankBoardAndClues: [boardSquare[][], clueAnswer[][]] = calculateBoard(blankBoard(defaultBoardSize))\n\n  // - - - - - - - - -\n  // State\n  // - - - - - - - - -\n  const [boardSize, setBoardSize] = useState(defaultBoardSize);\n  const [board, setBoard] = useState<boardSquare[][]>(blankBoardAndClues[0]);\n  // Build clueAnswers arrays from default empty board.\n  const [clueAnswers, setClueAnswers] = useState<clueAnswer[][]>(blankBoardAndClues[1]);\n  const recalculateBoardWithSet = (updatedBoard: boardSquare[][], updatedClueAnswers: clueAnswer[][]) => recalculateBoard(updatedBoard, updatedClueAnswers, setBoard, setClueAnswers);\n  const [mode, setMode] = useState<string>('normal');\n  const [selectedSquare, setSelectedSquare] = useState<[number, number]>([1, 1]);\n  const [selectedDirection, setSelectedDirection] = useState<string>(\"none\");\n  const onSelectSquareWithSet = (acrossWordNumber: number, downWordNumber: number) => onSelectSquare(selectedSquare, setSelectedSquare, selectedDirection, setSelectedDirection, acrossWordNumber, downWordNumber);\n\n  const updateClueAnswer = (type: (\"clue\" | \"answer\"), newValue: string, dirIndex: number, caIndex: number, selectionStart: number = 1): void => {\n    const updatedCAs: clueAnswer[][] = [...clueAnswers];\n    let uca: clueAnswer = updatedCAs[dirIndex][caIndex];\n    if (type === \"answer\") {\n      uca = updateAnswer(uca, newValue, selectionStart);\n      // Board is source of truth for answers\n      // send updated answer to board, then recalculate\n      // updated answers will be saved from updated board\n      const boardSquaresFlat = updateAnswersOnBoard(board, uca, dirIndex);\n      const reGridedBoard: boardSquare[][] = reGridBoard(boardSquaresFlat, boardSize);\n      recalculateBoardWithSet(reGridedBoard, clueAnswers);\n    } else {\n      uca.clue = newValue;\n      // Needed to save clue values\n      setClueAnswers(updatedCAs);\n    }\n  }\n\n  function updateBoardSize(newBoardSize: number): void {\n    let updatedBoard: boardSquare[][] = reSizeBoard(board, newBoardSize, boardSize);\n    setBoard(updatedBoard);\n    recalculateBoardWithSet(updatedBoard, clueAnswers);\n    setBoardSize(newBoardSize);\n  }\n\n  function copyLinkToGame(event: React.MouseEvent<HTMLButtonElement>) {\n    const gameLink: (HTMLElement | null) = document.getElementById(\"game-link\");\n    if (!gameLink) return ;\n    const gameLinkInput = gameLink as HTMLInputElement\n    gameLinkInput.select();\n    document.execCommand('copy');\n  }\n\n  return (\n    <div className=\"editor\">\n      <div className=\"header\">\n        <h1>Crossword Puzzle Composer</h1>\n\n        <p id=\"description\">This is a composer for creating crossword puzzles. Answer updates will display both on the board and next to the clues below. Double click on a square to toggle it on or off.</p>\n\n        <ul id=\"state\">\n          <li>\n            <Link to={`${process.env.PUBLIC_URL}/play#${condenseState(board, clueAnswers)}`} >\n              Play This Game\n            </Link>\n          </li>\n          <li>\n            <button onClick={copyLinkToGame}>Copy Link to This Game</button>\n          </li>\n          <li>\n            <input type=\"text\" id=\"game-link\" readOnly value={`${HOST}${process.env.PUBLIC_URL}/play#${condenseState(board, clueAnswers)}`} />\n          </li>\n        </ul>\n      </div>\n\n      <div id=\"sections\">\n        <div id=\"board-container\">\n          <BoardSize boardSize={boardSize} updateBoardSize={updateBoardSize} />  \n\n          <ModeSelect mode={mode} onChange={(e) => setMode(e.target.value)} />\n\n          <Board\n            clueAnswers={clueAnswers}\n            board={board}\n            boardSize={boardSize}\n            updateBoard={(updatedBoard) => recalculateBoardWithSet(updatedBoard, clueAnswers)}\n            mode={mode}\n            selectedSquare={selectedSquare}\n            onSelectSquare={onSelectSquareWithSet}\n            selectedDirection={selectedDirection}\n            checkAnswers={false}\n          />\n\n          <div className=\"button-section\">\n            <button onClick={() => recalculateBoardWithSet(activateAll(board), clueAnswers)}>Activate All</button>\n            <button onClick={() => recalculateBoardWithSet(clearAll(board), clueAnswers)}>Clear All</button>\n          </div>\n        </div>\n        <div id=\"clues-container\">\n          <Clues\n            clueAnswers={clueAnswers}\n            updateClueAnswer={updateClueAnswer}\n            mode=\"editor\"\n          />\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Editor;\n","import { boardSquare} from '../types';\n\nexport default function activateAll(currentBoard: boardSquare[][]): boardSquare[][] {\n  return currentBoard.map(row => row.map(square => {\n    square.active = true;\n    return square;\n  }));\n}","import { boardSquare } from '../types';\n\nexport default function clearAll(currentBoard: boardSquare[][]): boardSquare[][] {\n  return currentBoard.map(row => row.map(square => {\n    if (square.active) {\n      square.letter = \"\";\n    }\n    return square;\n  }));\n}","import { boardSquare, clueAnswer } from '../types';\n\nexport default function expandState(b64State: string): [boardSquare[][], clueAnswer[][]] {\n\n  const [condBoard, condCA] = JSON.parse(atob(b64State));\n\n  function expWordStart(condWordStart: string): [boolean, boolean] {\n    const [a, b] = condWordStart.split(\"\");\n    const aBool = a === 't';\n    const bBool = b === 't';\n    return [aBool, bBool];\n  }\n\n  const board: boardSquare[][] = condBoard.map((a: string[]) => a.map(bs => {\n\n    const active = bs[0] === 't';\n    const letter = bs[1];\n    const wordStart = expWordStart(bs[2]);\n    const acrossWordNumber = bs[3];\n    const downWordNumber = bs[4];\n    const squareNumber = bs[5];\n\n    return {\n      active,\n      letter,\n      wordStart,\n      acrossWordNumber,\n      downWordNumber,\n      squareNumber\n    }\n  }));\n  const clueAnswers: clueAnswer[][] = condCA.map((dir: string[]) => dir.map(ca => {\n\n    const direction = ca[0] === 'd' ? 'down' : 'across';\n    const number = ca[1];\n    const clue = ca[2];\n    const answer = ca[3];\n    const firstLetterSquareNumber = ca[4];\n\n    return {\n      direction,\n      number,\n      clue,\n      answer,\n      firstLetterSquareNumber\n    }\n  }));\n  \n  return [board, clueAnswers];\n}","import React, { useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport Board from './Board';\nimport Clues from './Clues';\n\nimport blankBoard from './helpers/blankBoard';\nimport calculateBoard from './helpers/calculateBoard';\nimport expandState from './helpers/expandState';\nimport onSelectSquare from './helpers/onSelectSquare';\nimport recalculateBoard from './helpers/recalculateBoard';\n\nimport './Game.css';\n\nimport { boardSquare, clueAnswer } from './types';\n\nexport default function Game(): JSX.Element {\n\n  const hash = window.location.hash\n  const hashTrimmed = hash.slice(1, hash.length);\n  const [hashBoard, hashClueAnswers] = expandState(hashTrimmed)\n  \n  const blankBoardAndClues: [boardSquare[][], clueAnswer[][]] = calculateBoard(blankBoard(hashBoard.length))\n\n  const [board, setBoard] = useState<boardSquare[][]>(blankBoardAndClues[0]);\n  // Build clueAnswers arrays from default empty board.\n  const [clueAnswers, setClueAnswers] = useState<clueAnswer[][]>(hashClueAnswers);\n  const [selectedSquare, setSelectedSquare] = useState<[number, number]>([0, 0]);\n  const [selectedDirection, setSelectedDirection] = useState<string>(\"across\");\n  const onSelectSquareWithSet = (acrossWordNumber: number, downWordNumber: number) => onSelectSquare(selectedSquare, setSelectedSquare, selectedDirection, setSelectedDirection, acrossWordNumber, downWordNumber);\n\n  const [checkAnswers, setCheckAnswers] = useState<boolean>(false);\n\n  function updateCheckAnswers(event: React.ChangeEvent<HTMLInputElement>):void {\n    setCheckAnswers(event.target.checked);\n  }\n\n  let game;\n  if (window.location.hash) {\n    game = (\n      <div>\n\n      <p id=\"description\">This is a crossword puzzle created in this app. The clues and correct answers are encoded in the URL, which is why it is so long. Toggle the checkbox below the board to autocheck your answers.</p>\n\n        <div id=\"sections\">\n          <div id=\"board-container\">\n            <Board\n              clueAnswers={clueAnswers}\n              board={board}\n              correctBoard={hashBoard}\n              boardSize={board.length}\n              updateBoard={(updatedBoard) => recalculateBoard(updatedBoard, clueAnswers, setBoard, setClueAnswers)}\n              mode={\"game\"}\n              selectedSquare={selectedSquare}\n              onSelectSquare={onSelectSquareWithSet}\n              selectedDirection={selectedDirection}\n              checkAnswers={checkAnswers}\n            />\n            <div id=\"check-answers-toggle\">\n              <label>Check answers:</label>\n              <input type=\"checkbox\" onChange={updateCheckAnswers} />\n            </div>\n          </div>\n          <div id=\"clues-container\">\n            <Clues\n              clueAnswers={clueAnswers}\n              mode=\"game\"\n            />\n          </div>\n        </div>\n      </div>\n    )\n  } else {\n    game = (\n      <div>\n        <h2>Invalid Game Link</h2>\n        <p>This link does not correspond to a crossword. <Link to={`${process.env.PUBLIC_URL}/editor`}>Try making your own here.</Link></p>\n      </div>\n    )\n  }\n\n\n  return (\n    <div id=\"game\">\n      <p><Link to={`${process.env.PUBLIC_URL}/editor`}>Make your own crossword here.</Link></p>\n      <h1>Crossword Puzzle Game</h1>\n\n      {game}\n    </div>\n  )\n}","import React from 'react';\n\nimport './Footer.css';\n\nexport default function Footer(): JSX.Element {\n\n  return (\n    <div id=\"footer\">\n      <ul>\n        <li>Made by <a href=\"https://www.patrickweaver.net/\">Patrick Weaver</a></li>\n        <li><a href=\"https://github.com/patrickweaver/crossword\">View Source</a></li>\n      </ul>\n    </div>\n  )\n}","import React from 'react';\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Redirect,\n  Route,\n} from 'react-router-dom';\n\nimport './App.css';\n\nimport Editor from './Editor';\nimport Game from './Game';\nimport Footer from './Footer';\n\nfunction App() {\n\n  return (\n    <Router>\n      <Switch>\n        <Route exact path={`${process.env.PUBLIC_URL}/`}>\n          <Redirect to={`${process.env.PUBLIC_URL}/editor`} />\n        </Route>\n        <Route path={`${process.env.PUBLIC_URL}/editor`}>\n          <Editor />\n        </Route>\n        <Route path={`${process.env.PUBLIC_URL}/play`}>\n          <Game />\n        </Route>\n      </Switch>\n      <Footer />\n    </Router>\n  );\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      process.env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' }\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}