<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Slide 3: Working with NYC MTA Real-Time Subway Data</title>
      
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <meta name="description" content="Working with NYC MTA Real-Time Subway Data">
    <link
      rel="icon"
      href="data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg%22 viewBox=%220 0 100 100%22><text y=%22.9em%22 font-size=%2290%22>üöá</text></svg>"
    />
    
    <!-- Social -->
    <meta property="og:title" content="Slide 3: Working with NYC MTA Real-Time Subway Data"/>
    <meta property="og:description" content="Working with NYC MTA Real-Time Subway Data" />
    
    <!-- Twitter -->
    <meta name="twitter:card" content="summary" />
    <meta name="twitter:site" content="@patrickweave_r" />
    <meta name="twitter:creator" content="@patrickweave_r" />
    <meta name="twitter:title" content="Slide 3: Working with NYC MTA Real-Time Subway Data" />
    <meta name="twitter:description" content="Working with NYC MTA Real-Time Subway Data" />
    <link rel="stylesheet" href="../../style.css">
  </head>
  <body>
    <div class="slide">
      <div id="slide-content">
      
        <ul id="nav">
          <li><a href="../2/">Previous</a></li>
          <li><a href="../../">Slide List</a></li>
          <li><a href="../4/">Next</a></li>
        </ul>
      
        <h1>Working with NYC MTA Real-Time Subway Data</h1>
        
          <h2 class="card-title">API Feed Responses</h2>
        
        <div id="card-content">
          <p>The API Responses are based on the <a href="https://developers.google.com/transit/gtfs-realtime">GTFS Realtime specification</a>, which is based on Protocol Buffers, or ‚ÄúGoogle's language-neutral, platform-neutral, extensible mechanism for serializing structured data‚Äù.</p>
      <p>If you're working with the subway data on the web, you may want to easily convert it to JSON. I use the <a href="https://www.npmjs.com/package/gtfs-realtime-bindings">gtfs-realtime-bindings npm module</a>. This may or may not be an efficient or smart thing to do, but you probably want to get straight to exploring the real-time data and not a mechanism for serializing structured data.</p>
      <p>Converted to JSON, it looks like this:</p>
      <pre><code>
      {
        "header": {
          "gtfsRealtimeVersion": "1.0",
          "timestamp": "1599073154"
        },
        "entity": [
      
          {
            "id": "000001A",
            "tripUpdate": {
              "trip": {
                "tripId": "081600_A..N",
                "startTime": "13:36:00",
                "startDate": "20200902",
                "routeId": "A"
              },
              "stopTimeUpdate": [
      
                {
                  "arrival": { "time": "1599074067" },
                  "departure": { "time": "1599074067" },
                  "stopId": "A03N"
                },
                
                {
                  "arrival": { "time": "1599074262" },
                  "departure": { "time": "1599074262" },
                  "stopId": "A02N"
                }
      
              ]
            }
          },
      
          {
            "id": "000002A",
            "vehicle": {
              "trip": {
                "tripId": "081600_A..N",
                "startTime": "13:36:00",
                "startDate": "20200902",
                "routeId": "A"
              },
              "currentStopSequence": 35,
              "stopId": "A05"
            }
          }
      
        ]
      }
      </pre></code>
        </div>
      
        <hr/>
      </div>
      
    </div>
    <script src="../../gStationData.js"></script>
    <script src="../../script.js"></script>
    <script src="script.js"></script>
  </body>
</html>